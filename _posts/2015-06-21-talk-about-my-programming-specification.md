---
layout: post
title: 漫谈我的编程习惯-规范篇
categories: [programming]
tags: [编程, 习惯]
---
<!--
	1. 引言
	2. 遗留问题
	3. 如何解决
	4. 期待方案
-->

本篇主要和大家分享我个人在开发过程中对规范的理解和实践。

### 规范

不知道大家有没有过这样体验，翻起自己1段时间前或更久的代码，看着内心难受，怎么写这么搓的代码？		
我是深有体会，究其原因想来有这么2点。	

1. 人在成长
2. 没有成长的编码习惯

世界上唯一的不变真理就是一切都在变化。在变化的过程中，人不断的成长，掌握新技术，有新思路。不断的重构原来旧代码。这是必然的。是否这样是在所难免的？		

不然，观察身边的聪明人我们可以发现，聪明人从来不是1开始就很聪明，大部分时候和我们一样，很普通，但是从他们对待所擅长的领域的工作方式来看，他们有着自己的学习习惯和学习规则。	

细心留意编程领域的聪明人我们会发现他们在宣传这样的观点

1. 团队的规范
2. 代码的规范
3. 重构代码

拆分来看

#### 1. 团队的规范

团队的规范的目标是采用一致性约束使得大家沟通的成本降低，工作的效率更高。

基于这个目的，我们会看到不同公司有着不同的规范，也可以说叫文化。

比如有的公司采用excel来管理项目，虽然很low，但是大家一致以后，效率也很高。在协作过程中规避了excel的劣势就行。	
有的公司声称我们是互联网公司，采用各种高大上的技术手段＋工具，请一流的人才来协助建立公司的规范。但是从结果来看，效果往往并不好，比如敏捷开发。从我个人来看，敏捷开发不是万金油，敏捷开发对团队所有人员职业能力要求很高，尤其是针对开发。需要能快速迭代代码，编写测试用例，开发过程中不断重构。这个对很多新入门的开发是很困难的，甚至很多公司首席的本人也不是很擅长，这样下去会导致大家很累，所有人对规范的理解和执行都不到位。最后的下场就是效率低下。	

也就是说，能让团队大部分人员接受＋实践的规范才是好的规范。

不过在现实世界中，你会发现，不同的工作，不同的实践方式，效率的差异是巨大的。比如说项目管理采用excel，MSproject，trello，redmine，明道，禅道等。

我们应该怎么权衡？	

我的方案是采用目前团队大家都能接受的方案。然后相信人是会成长的，解决方案也会不断的推陈出新。在实践中要敢于自我革命，迭代出更好的规范。

#### 2. 代码的规范

代码规范在包含了团队的目标之外，从我个人的理解，还有一个目标就是为了让产品（或项目，以下全用产品替代）得以持续性开发。	
一款产品的生命周期通常会经历几波程序员。如果我们把1个程序员的参与过程算作1代。那么一款产品会跨越好几代。甚至十几代，几十代。	
考虑到我们现实世界中，子承父业都是很困难的一件事情，那么一款产生在这么多代程序员的手中进行传递时候，不可避免的，会越来越不像父代。越来越偏离原来的目标。而这一切时无法避免的。		

同样我们参考现实世界里面那些子承父业的场景，拿到产品身上来看。我们可以得到如下方案

1. 需要有经验的程序员带领新加入的程序员进行过度
2. 大家遵守一致的行业最佳实践，也就是代码规范

简单说下第一点的理由，把对产品的准确理解和实现思路传递给下一代程序员。引导新人跳过前辈们踩过的陷阱。	
第二点，没有统一规范，只有指导方案。针对不同项目进行调整。	
大家见的比较多的是各种语言的代码最佳实践。比如“php代码最佳实践”，“python代码最佳实践”。。。

这些最佳实践通常会包含以下几个内容

1. 约定成俗的变量命名规则
2. 可选的注释方案
3. 推荐文件组织目录结构
4. 性能优化建议

从我个人实践来看其实还需要补充几点

1. 针对具体产品的设计纪录
2. 系统架构图
3. 符合设计指导原则的代码
4. 方法实现尽可能的短
5. 测试驱动

个人觉得前4点的重要性其实更大。		
是否使用**测试驱动**在迭代次数少的项目是看不出来区别，但是随着项目迭代次数的增长，一代又一代程序员的过度，是否有覆盖广泛，测试全面的代码，一定程度保证了项目继续迭代的速度。		

#### 3. 重构代码

说到这个话题，相对说来大家都会比较陌生了，有经验的程序员会知道，一切都会变化，需求会变化，产品功能会变化，测试用例会变化，这意味着代码会不断的变化。在不断的变化过程中，如何保证项目代码的稳定性？我个人觉得这个点可以用来衡量1个程序员是否脱离了初级程序员的水平。	

在这不断的变化中，系统架构，代码，甚至语言都会替换。在这个过程中，如何保证项目和产品稳定的开发速度？甚至提速？		

这就需要在不断的变化过程中，不断的从新审视系统需求，审视系统架构，重写原来的代码，这个过程就是不断的重构。重构以后的开发速度衡量了1个程序员的开发水平。	


<br>
本篇博客断断续续花了一段时间才完善。早期一些想法已经忘记。另外，本篇说的比较范，属于心法篇，大家需要针对不同的语言，不同的团队思考调整适应。	






[duweishijinwei]:http://www.baike.com/wiki/杜威十进制图书分类法
[spotlight]:http://zh.wikipedia.org/zh/Spotlight
[alfred]:http://www.alfredapp.com
[alfredganshenme]:http://www.zhihu.com/question/20656680
[textexpander]:http://smilesoftware.com/TextExpander/index.html
[texteditor]:http://www.yangzhiping.com/tech/mac4.html



