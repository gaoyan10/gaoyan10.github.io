---
layout: post
title: 深入理解Java虚拟机——HotSpot虚拟机对象探秘
categories: [阅读笔记]
tags: [对象创建, JVM]
---

#### 对象的创建

过程如下：

1. JVM遇到new指令，检查这个指令的参数是否能在常量池定位到一个类的符号引用，检查这个符号代表的类是否被加载、解析和初始化过（否则执行类加载）。
2. 检查通过，新生对象分配内存。对象所需内存大小在类加载完成后便可完全确定（每个变量+对象头引用等等）。
3. 不同的JV由于GC策略不同，分配内存结果不同。绝对规整的JVM Heap，有一个指针作为空闲内存和已用内存的分界点，分配时挪动指针一段与对象大小相等的距离，这种方式叫**指针碰撞**。如果不规整，VM会有一个列表标记内存的可用，从列表找到一块足够大的空间分配给对象实例，这种方式叫**空闲列表**。
4. 考虑到并发性，
